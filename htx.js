	const symbolsHTX = ['sylousdt', 'zigusdt', 'walletusdt', 'musicusdt', 'btctry', 'hbbusdt', 'kokusdt', 'luncusdd', 'kctusdt', 'smtusdt', 'babyusdt', 'ltcht', 'medamonusdt', 'scusdt', 'arixusdt', 'rlyusdt', 'atombtc', 'velousdt', 'polcusdt', 'bsvbtc', 'ladysusdt', 'magicusdt', 'mlkusdt', 'elfusdt', 'piusdt', 'waxlusdt', 'luncusdt', 'ldousdt', 'aliceusdt', 'jstusdd', 'wozxusdt', 'mineusdt', 'vpadusdt', 'saousdt', 'aaveusdt', 'ankrusdt', 'lunrusdt', 'jstusdt', 'aktusdt', 'diousdt', 'f1f2x8z9', 'tomiusdt', 'stfusdt', 'usdttry', 'wifiusdt', 'vrausdt', 'truusdt', 'a8s8d8f8', 'signusdt', 'wanbtc', 'wpciusdt', 'acheth', 'cereusdt', 'lootusdt', 'diausdt', 'dogeusdt', 'zenusdt', 'radusdt', 'eurusdt', 'fnsabtc', 'sdusdt', 'reefusdt', 'snsusdt', 'wojakusdt', 'latusdt', 'eluusdt', 'dogeusdd', 'mggusdt', 'ssvusdt', 'flrusdt', 'dotbtc', 'bosonusdt', 'argusdt', 'bitciusdt', 'briseusdt', 'fitfiusdt', 'riousdt', 'titanusdt', 'btmusdt', 'crtsusdt', 'bicousdt', 'zksusdt', 'nftusdc', 'bethusdt', 'nftusdd', 'polyxusdt', 'olandusdt', 'fdtusdt', 'ethpyusd', 'dcusdt', 'gariusdt', 'storeusdt', 'ampusdt', 'bnsxusdt', 'hotusdt', 'glmusdt', 'ethbtc', 'btcpyusd', 'vsysusdt', 'tpyusdt', 'nftusdt', 'batusdt', 'acsusdt', 'kubeusdt', 'h9h9x6z7', 'winusdd', 'revousdt', 'sntusdt', 'flokiusdt', 'xmrusdt', 'zkpusdt', 'chrusdt', 'xcadusdt', 'dydxusdt', 'manausdt', 'a8s83ld8f8', 'nymusdt', 'etcusdt', 'boringusdt', 'h8h8x6z7', 'orbrusdt', 'seiusdt', 'wbtcbtc', 'wsmusdt', 'snceth', 'traceusdt', 'jstbtc', 'mubiusdt', 'steemusdt', 'aiozusdt', 'polsusdt', 'auryusdt', 'aqtusdt', 'stptusdt', 'sillyusdt', 'mntusdt', 'dorausdt', 'icxusdt', 'unibotusdt', 'akrousdt', 'plausdt', 'borgusdt', 'sdaousdt', 'dckusdt', 'actusdt', 'dotusdt', 'grokusdt', 'superusdt', 'solousdt', 'linkusdt', 'stgusdt', 'dotusdd', 'lrcusdt', 'adpusdt', 'reiusdt', 'memeusdt', 'rdntusdt', 'visionusdt', 'ktusdt', 'tavausdt', 'dfiusdt', 'monousdt', 'fnsausdt', 'rockusdt', 'inrusdt', 'xdefiusdt', 'trxusdt', 'lptusdt', 'grailusdt', 'hftusdt', 'orbsusdt', 'mboxusdt', 'grtusdt', 'nextusdt', 'bananausdt', 'epikusdt', 'bbfusdt', 'krrxusdt', 'trxeth', 'cvcusdt', 'boneusdt', 'trxusdd', 'trxusdc', 'hftusdd', 'zecusdt', 'winusdt', 'cudosusdt', 'movrusdt', 'kmdusdt', 'toxusdt', 'dbcusdt', 'ardrbtc', 'vlxusdt', 'ethusdc', 'zedusdt', 'doviusdt', 'ethusdd', 'utkusdt', 'haousdt', 'xecusdt', 'dfxusdt', 'pciusdt', 'bldusdt', 'xcnusdt', 'peopleusdt', 'egldusdt', 'dogebtc', 'kicksusdt', 'aurorausdt', 'hypeusdt', 'ghstusdt', 'ustcusdt', 'sushiusdt', 'sxpusdt', 'cakeusdt', 'nearusdt', 'trx3susdt', 'duskusdt', 'clvusdt', 'coqusdt', 'nearusdd', 'spellusdt', 'dypusdt', 'forthusdt', 'stetheth', 'fetusdt', 'benjiusdt', 'gmxusdt', 'tusdusdt', 'poohusdt', 'ethusdt', 'xprtusdt', 'pyusdusdt', 'orcusdt', 'pluusdt', 'lithusdt', 'xfiusdt', 'xnousdt', 'mcontentusdt', 'xrpbtc', 'unbusdt', 'sunusdt', 'nsureusdt', 'btcuah', 'psgusdt', 'htusdt', 'onitusdt', 'fotausdt', 'sunusdd', 'gasusdt', 'nknusdt', 'htusdd', 'gnousdt', 'spumeusdt', 'btcusdt', 'omgusdt', 'imxusdt', 'w4j4x8z9', 'opusdt', 'e9f9x8z9', 'ethwusdt', 'opulusdt', 'xcurusdt', 'fisusdt', 'btcusdc', 'btcusdd', 'turtusdt', 'elfeth', 'mapusdt', 'apeusdt', 'pondusdt', 'balusdt', 'eosusdd', 'iotausdt', 'voxelusdt', 'mtlusdt', 'frontusdt', 'eosusdt', 'ryomausdt', 'pyrusdt', 'mrsusdt', 'kmdbtc', 'gmeeusdt', 'mxusdt', 'fancusdt', 'scrtusdt', 'spellfireusdt', 'arpausdt', 'looksusdt', 'tlosusdt', 'celousdt', 'dashusdt', 'xdcusdt', 'tcnhusdt', 'achbtc', 'trbusdt', 'achusdt', 'phausdt', 'ernusdt', 'pendleusdt', 'nexousdt', 'cusdusdt', 'pstakeusdt', 'godsusdt', 'btcrub', 'aceusdt', 'newusdt', 'usdjusdd', 'zilusdt', 'cvpusdt', 'galausdt', 'nakausdt', 'usdjusdt', 'bbcusdt', 'klvusdt', 'azerousdt', 'mkrusdt', 'arusdt', 'fxusdt', 'tribeusdt', 'prqusdt', 'kriptousdt', 'bchusdt', 'cgptusdt', 'routeusdt', 'xvgusdt', 'mageusdt', 'daousdt', 'sysusdt', 'wellusdt', 'eurtusdt', 'maticbtc', 'ringusdt', 'ctxusdt', 'mevusdt', 'ratsusdt', 'ognusdt', 'brwlusdt', 'promusdt', 'mbxusdt', 'aptusdt', 'miceusdt', 'weusdt', 'srtusdt', 'idusdt', 'lokausdt', 'metisusdt', 'vrusdt', 'rainusdt', 'aptusdd', 'ssxusdt', 'beamxusdt', 'adabtc', 'idexusdt', 'eulusdt', 'lunausdt', 'wiccusdt', 'loveusdt', 'phbusdt', 'elausdt', 'rabusdt', 'oasusdt', 'phcrusdt', 'blurusdt', 'xpntusdt', 'racausdt', 'unqusdt', 'lsdusdt', 'shrapusdt', 'ogvusdt', 'c1d1x6z7', 'usdpusdt', 'requsdt', 'lqtyusdt', 'xtmusdt', 'ctsiusdt', 'aacusdt', 'prismausdt', 'ipvusdt', 'pushusdt', 'klayusdt', 'badgerusdt', 'arkmusdt', 'ftiusdt', 'mplxusdt', 'rndrusdt', 'strxtrx', 'iostusdt', 'yggusdt', 'wwyusdt', 'stethusdt', 'ntusdt', 'atomusdt', 'csprusdt', 'rsrusdt', 'hecusdt', 'h3h3x8z9', 'fct2usdt', 'gtusdt', 'daiusdt', 'solbtc', 'yfiiusdt', 'bttusdc', 'crvusdt', 'pythusdt', 'forusdt', 'swftcusdt', 'sukuusdt', 'etcht', 'ctcusdt', 'bsvusdt', 'nanousdt', '1inchusdt', 'ethfusdt', 'yfiusdt', 'bchbtc', 'multiusdt', 'sfundusdt', 'fuseusdt', 'tokeusdt', 'fiousdt', 'jasmyusdt', 'usdtbrl', 'doseusdt', 'chzusdt', 'utusdt', 'artyusdt', 'lambbtc', 'depusdt', 'enjusdt', 'gfusdt', 'myrousdt', 'ordiusdt', 'bullusdt', 'rpkusdt', 'cruusdt', 'zelixusdt', 'waneth', 'bonkusdt', 'anvusdt', 'arknusdt', 'xemusdt', 'crptusdt', 'storjusdt', 'tusdt', 'whaleusdt', 'q1w2x8z9', 'xenusdt', 'aidogeusdt', 'capousdt', 'erthausdt', 'cotiusdt', 'flzusdt', 'nglusdt', 'flowusdt', 'movezusdt', 'neousdt', 'lovelyusdt', 'trxtusd', 'lblusdt', 'hteth', 'sandusdt', 'moovusdt', 'flzusdc', 'c98usdt', 'kavausdt', 'rlcusdt', 'nulsusdt', 'davusdt', 'maskusdt', 'bwousdt', 'orbusdt', 'tlmusdt', 'gnsusdt', 'vrtxusdt', 'zrxusdt', 'vinuusdt', 'numusdt', 'everusdt', 'nptusdt', 'wlknusdt', 'bxenusdt', 'mesausdt', 'acausdt', 'injusdt', 'boxbtc', 'suneth', 'linausdt', 'btsusdt', 'strmusdt', 'a8s83sd8f8', 'sdnusdt', 'mongusdt', 'eurocusdt', 'xlmusdt', 'adxusdt', 'rplusdt', 'wldusdt', 'osmousdt', 'insurusdt', 'xtzusdt', 'uosusdt', 'ceekusdt', 'dksusdt', 'usdcusdt', 'tracusdt', 'hsfusdt', 'rankerusdt', 'dkausdt', 'mtbtc', 'ontusdt', 'xrpusdd', 'kanusdt', 'wxtusdt', 'usddusdc', 'swftcbtc', 'lenausdt', 'sprtusdt', 'starlyusdt', 'pundixusdt', 'sncbtc', 'wstusdtusdt', 'jumbousdt', 'gqusdt', 'voltusdt', 'bttusdd', 'lambusdt', 'xrpusdt', 'hotcrossusdt', 'colusdt', 'bttusdt', 'vetusdt', 'gmtusdt', 'bobusdt', 'oceanusdt', 'dgbbtc', 'propybtc', 'galusdt', 'elonusdt', 'btctusd', 'nbsusdt', 'gftusdt', 'joeusdt', 'astrusdt', 'qrdousdt', 'xautusdt', 'usddusdt', 'waxpusdt', 'bchht', 'y1y2x8z9', 'jsteth', 'fxsusdt', 'eosbtc', 'woousdt', 'jtousdt', 'lskusdt', 'likeusdt', 'poolxusdt', 'powrbtc', 'avaxusdt', 'hiveusdt', 'gearboxusdt', 'ctxcusdt', 'joyusdt', 'pbrusdt', 'gbpusdt', 'arbusdt', 'faceusdt', 'adausdt', 'filusdt', 'trxbtc', 'unfiusdt', 'chadusdt', 'atmusdt', 'wnxmusdt', 'bobausdt', 'agldusdt', 'berryusdt', 'e1e2usdt', 'vempusdt', 'wanusdt', 'blzusdt', 'fttusdd', 'paradoxusdt', 'swftceth', 'axsusdt', 'sofiusdt', 'ltcbtc', 'mlnusdt', 'fsnusdt', 'fttusdt', 'cawusdt', 'nodlusdt', 'oneusdt', 'synusdt', 'woofusdt', 'sunbtc', 'kcalusdt', 'trx3lusdt', 'ftmusdt', 'nestusdt', 'wavesusdt', 'uniusdt', 'skebusdt', 'kcalusdd', 'taousdt', 'breedusdt', 'mudol2usdt', 'gmpdusdt', 'tdxusdt', 'xyousdt', 'noiausdt', 'dexeusdt', 'quickusdt', 'ensusdt', 'desousdt', 'xrpht', 'ckbusdt', 'wmtusdt', 'ingusdt', 'kncusdt', 'linkbtc', 'topusdt', 'apedusdt', 'ttusdt', 'cvxusdt', 'auctionusdt', 'evmosusdt', 'shibusdt', 'srmusdt', 'ltcusdt', 'qtumusdt', 'huntusdt', 'etnusdt', 'emusdt', 'xchusdt', 'hifiusdt', 'btcgbp', 'ogusdt', 'glmrusdt', 'mblusdt', 'wemixusdt', 'swapusdt', 'lbpusdt', 'etcbtc', 'babydogeusdt', 'h6h6x6z7', 'paalusdt', 'tomsusdt', 'sklusdt', 'seanusdt', 'oxtusdt', 'minausdt', 'wbtusdt', 'firousdt', 'zbcusdt', 'grvusdt', 'icpusdt', 'algousdt', 'juvusdt', 'mcrtusdt', 'ethtusd', 'smcwusdt', 'bntusdt', 'elfbtc', 'xetausdt', 'iotxusdt', 'sisusdt', 'umausdt', 'tiausdt', 'bnbusdt', 'o3usdt', 'a3b4x8z9', 'h2ousdt', 'usdtrub', 'dfusdt', 'ergusdt', 'spausdt', 'revvusdt', 'betheth', 'anmlusdt', 'zerousdt', 'snxusdt', 'dcrusdt', 'perpusdt', 'pepeusdt', 'suiusdt', 'spsusdt', 'compusdt', 'wtcusdt', 'bssbusdt', 'hbarusdt', 'sweatusdt', 'rvnusdt', 'tonusdt', 'tenetusdt', 'lhinuusdt', 'abbcusdt', 'mdxusdt', 'octusdt', 'abbcusdd', 'satsusdt', 'ksmusdt', 'iguusdt', 'thetausdt', 'antusdt', 'boxusdt', 'mxcusdt', 'pandousdt', 'maticusdt', 'api3usdt', 'fudusdt', 'rss3usdt', 'xplausdt', 'kaiusdt', 'bandusdt', 'usdtuah', 'a3b4x6z7', 'solusdt', 'audiousdt', 'dodousdt', 'cbkusdt', 'aliusdt', 'rocousdt', 'turbousdt', 'uftusdt', 'creusdt', 'stcusdt', 'muskusdt', 'zcxusdt', 'laiusdt', 'btcbrl', 'arvusdt', 'soulusdt', 'renusdt', 'agixusdt', 'coreusdt'];  // Add more symbols as needed

	const HTX = new Exchange({
	  name: "HTX",
	  websocketUrl: "wss://api.huobi.pro/ws",
	  onDataRecieved: function (event) {
        // Throttle the execution of this function
        if (this.throttleTimer) {
            return; // Already in the throttling period
        }

        // Set a new throttle timer
        this.throttleTimer = setTimeout(() => {
            this.throttleTimer = null;
        }, this.throttleTime);	  
		try {
		  if (event.data instanceof Blob) {
			// Handle Blob data
			const reader = new FileReader();

			reader.onload = function () {
			  // Process the binary data (e.g., convert to text or handle as needed)
			  const binaryData = reader.result;

			  // Try to unzip the data (assuming it's gzipped)
			  const inflatedData = pako.inflate(new Uint8Array(binaryData), { to: 'string' });

			  // Now you can parse the JSON data
			  const message = JSON.parse(inflatedData);

			  // Check if the message is a ticker data message
			  if (message.ch && message.tick) {
				const tickerData = message.tick;
				const symbol = message.ch.split('.')[1].toUpperCase();

				if (!(symbol in data.data)) {
				  data.data[symbol] = {};
				}
				if (!("HTX" in data.data[symbol])) {
				  data.data[symbol].HTX = {};
				}

				// Update the data object with HTX ticker data
				data.data[symbol].HTX = {
				  a: Number(tickerData.ask),
				  b: Number(tickerData.bid),
				  // Add other relevant data fields as needed
				};
			  }
			};

			reader.readAsArrayBuffer(event.data); // Read as ArrayBuffer for binary data

			return;
		  }

		  console.log("Received data:", event.data);

		  const message = JSON.parse(event.data);

		  // Continue with your existing logic for non-binary data
		} catch (error) {
		  console.error("Error parsing HTX data:", error);
		}
		throttleTime: 10000	
	  },
	  pingTime: 5000,
	  pingMessage: { "ping": 1492420473027 }
	});

	// Subscribe to symbols one by one
	symbolsHTX.forEach(symbol => {
	  HTX.socket.addEventListener('open', function onOpen() {
		HTX.socket.send(JSON.stringify({ "sub": `market.${symbol}.ticker` }));
		HTX.socket.removeEventListener('open', onOpen); 
	  });
	});